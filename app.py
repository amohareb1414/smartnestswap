from flask import Flask, render_template, request

app = Flask(__name__)

# ูุงุฆูุฉ ุงูุฃุญูุงุก ูุน ุงููุฒุงูุง
areas_info = {
    "ุงูุฑุญูุงููุฉ": {"ููุช": 9, "ูููุฒุงุช": "ูุฑูุจ ูู ุฌุงูุนุฉ ุงูููู ุณุนูุฏ + ุทุฑู ุฑุฆูุณูุฉ + ูุงุฏู"},
    "ุงููุฑูุฌ": {"ููุช": 10, "ูููุฒุงุช": "ูุฑูุจ ูู ุทุฑูู ุงูููู ููุฏ + ุฎุฏูุงุช ูุซูุฑุฉ"},
    "ุงูุฑุจูุน": {"ููุช": 13, "ูููุฒุงุช": "ูุฑูุจ ูู ุงููุชุฑู + ุญุฏุงุฆู + ูุฏุงุฑุณ"},
    "ุงููุงุญุฉ": {"ููุช": 8, "ูููุฒุงุช": "ูุชูุณุท ุจูู ุงูุดูุงู ูุงููุณุท + ุณูู ุงููุตูู"},
    "ุงููุฑุจุน": {"ููุช": 6, "ูููุฒุงุช": "ูุฑูุจ ูู ุงููุฒุงุฑุงุช ูุงููุชุญู ูุงูุญุฏููุฉ"},
    "ุญู ุงูุณูุงุฑุงุช": {"ููุช": 15, "ูููุฒุงุช": "ุจูุฆุฉ ุฎุถุฑุงุก + ุฑูุงุถู + ููุงุณุจ ููุนูุงุฆู"},
    "ุงููููุง": {"ููุช": 14, "ูููุฒุงุช": "ุญุฏูุซ + ูุฑูุจ ูู ุงูุจููููุงุฑุฏ + ุฎุฏูุงุช"},
}

@app.route("/")
def home():
    return render_template("index.html")

@app.route("/suggest", methods=["POST"])
def suggest():
    places = request.form.get("work_places")  # ููุง ูุฏุฎู ุงููุณุชุฎุฏู ุฃูุซุฑ ูู ุฌูุฉ
    places = [p.strip() for p in places.split(",")]

    # ููุทู ุจุณูุท: ุฃูุถู ุญู ูู ุงูุฐู ูุญูู ุฃูุตุฑ ูุชูุณุท ููุช ูุฌููุน ุงูุฌูุงุช
    best_area = min(areas_info, key=lambda area: areas_info[area]["ููุช"])

    result = f"""
    <h2>โ ุฃูุถู ุญู ููุชุฑุญ ุจูุงุกู ุนูู ููุงูุน ุงูุฃุนูุงู:</h2>
    <h3>{best_area}</h3>
    <p>โฑ ูุชูุณุท ููุช ุงููุตูู: {areas_info[best_area]["ููุช"]} ุฏูููุฉ</p>
    <p>๐ฟ ูููุฒุงุช ุงูููุทูุฉ: {areas_info[best_area]["ูููุฒุงุช"]}</p>
    <hr>
    <p>๐ ุงูุฌูุงุช ุงูุชู ุชู ุฅุฏุฎุงููุง: {', '.join(places)}</p>
    """

    return result

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=10000)